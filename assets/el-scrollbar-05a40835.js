import{l as we,m as G,M as _e,S as Q,n as Se,o as Z,p as j,r as Te,a as q,c as me,_ as J,g as Ee,d as Ae,i as z,w as Pe}from"./base-98489d78.js";import{U as k,g as V,a as ee,i as te,S as D,b as Le}from"./index-361d71c2.js";import{a as X,u as Oe}from"./index-1ffef1ed.js";import{B as $,t as Re,r as S,v as R,a2 as xe,y as ne,o as C,D as Y,w as pe,Q as ze,L as F,G as H,i as P,I as K,a1 as Ce,a3 as He,c as ge,b as re,F as Ne,d as ae,n as se,x as Me,J as Be,k as Ie,P as $e,C as De,E as We,H as Ue,m as Ge}from"./index-33795f6e.js";import{t as Xe}from"./event-e06a23af.js";import{g as le}from"./index-c161bbc8.js";var Ye=/\s/;function Fe(e){for(var t=e.length;t--&&Ye.test(e.charAt(t)););return t}var Ke=/^\s+/;function qe(e){return e&&e.slice(0,Fe(e)+1).replace(Ke,"")}var ie=0/0,Je=/^[-+]0x[0-9a-f]+$/i,Qe=/^0b[01]+$/i,Ze=/^0o[0-7]+$/i,je=parseInt;function oe(e){if(typeof e=="number")return e;if(we(e))return ie;if(G(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=G(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=qe(e);var r=Qe.test(e);return r||Ze.test(e)?je(e.slice(2),r?2:8):Je.test(e)?ie:+e}var ke="__lodash_hash_undefined__";function Ve(e){return this.__data__.set(e,ke),this}function et(e){return this.__data__.has(e)}function I(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new _e;++t<r;)this.add(e[t])}I.prototype.add=I.prototype.push=Ve;I.prototype.has=et;function tt(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function nt(e,t){return e.has(t)}var rt=1,at=2;function he(e,t,r,n,c,a){var o=r&rt,f=e.length,l=t.length;if(f!=l&&!(o&&l>f))return!1;var d=a.get(e),p=a.get(t);if(d&&p)return d==t&&p==e;var i=-1,v=!0,g=r&at?new I:void 0;for(a.set(e,t),a.set(t,e);++i<f;){var h=e[i],y=t[i];if(n)var _=o?n(y,h,i,t,e,a):n(h,y,i,e,t,a);if(_!==void 0){if(_)continue;v=!1;break}if(g){if(!tt(t,function(b,w){if(!nt(g,w)&&(h===b||c(h,b,r,n,a)))return g.push(w)})){v=!1;break}}else if(!(h===y||c(h,y,r,n,a))){v=!1;break}}return a.delete(e),a.delete(t),v}function st(e){var t=-1,r=Array(e.size);return e.forEach(function(n,c){r[++t]=[c,n]}),r}function lt(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var it=1,ot=2,ut="[object Boolean]",ft="[object Date]",ct="[object Error]",vt="[object Map]",dt="[object Number]",mt="[object RegExp]",pt="[object Set]",gt="[object String]",ht="[object Symbol]",yt="[object ArrayBuffer]",bt="[object DataView]",ue=Q?Q.prototype:void 0,W=ue?ue.valueOf:void 0;function wt(e,t,r,n,c,a,o){switch(r){case bt:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case yt:return!(e.byteLength!=t.byteLength||!a(new k(e),new k(t)));case ut:case ft:case dt:return Se(+e,+t);case ct:return e.name==t.name&&e.message==t.message;case mt:case gt:return e==t+"";case vt:var f=st;case pt:var l=n&it;if(f||(f=lt),e.size!=t.size&&!l)return!1;var d=o.get(e);if(d)return d==t;n|=ot,o.set(e,t);var p=he(f(e),f(t),n,c,a,o);return o.delete(e),p;case ht:if(W)return W.call(e)==W.call(t)}return!1}var _t=1,St=Object.prototype,Tt=St.hasOwnProperty;function Et(e,t,r,n,c,a){var o=r&_t,f=V(e),l=f.length,d=V(t),p=d.length;if(l!=p&&!o)return!1;for(var i=l;i--;){var v=f[i];if(!(o?v in t:Tt.call(t,v)))return!1}var g=a.get(e),h=a.get(t);if(g&&h)return g==t&&h==e;var y=!0;a.set(e,t),a.set(t,e);for(var _=o;++i<l;){v=f[i];var b=e[v],w=t[v];if(n)var L=o?n(w,b,v,t,e,a):n(b,w,v,e,t,a);if(!(L===void 0?b===w||c(b,w,r,n,a):L)){y=!1;break}_||(_=v=="constructor")}if(y&&!_){var E=e.constructor,T=t.constructor;E!=T&&"constructor"in e&&"constructor"in t&&!(typeof E=="function"&&E instanceof E&&typeof T=="function"&&T instanceof T)&&(y=!1)}return a.delete(e),a.delete(t),y}var At=1,fe="[object Arguments]",ce="[object Array]",B="[object Object]",Pt=Object.prototype,ve=Pt.hasOwnProperty;function Lt(e,t,r,n,c,a){var o=Z(e),f=Z(t),l=o?ce:ee(e),d=f?ce:ee(t);l=l==fe?B:l,d=d==fe?B:d;var p=l==B,i=d==B,v=l==d;if(v&&te(e)){if(!te(t))return!1;o=!0,p=!1}if(v&&!p)return a||(a=new D),o||Le(e)?he(e,t,r,n,c,a):wt(e,t,l,r,n,c,a);if(!(r&At)){var g=p&&ve.call(e,"__wrapped__"),h=i&&ve.call(t,"__wrapped__");if(g||h){var y=g?e.value():e,_=h?t.value():t;return a||(a=new D),c(y,_,r,n,a)}}return v?(a||(a=new D),Et(e,t,r,n,c,a)):!1}function ye(e,t,r,n,c){return e===t?!0:e==null||t==null||!j(e)&&!j(t)?e!==e&&t!==t:Lt(e,t,r,n,ye,c)}var Ot=function(){return Te.Date.now()};const U=Ot;var Rt="Expected a function",xt=Math.max,zt=Math.min;function kt(e,t,r){var n,c,a,o,f,l,d=0,p=!1,i=!1,v=!0;if(typeof e!="function")throw new TypeError(Rt);t=oe(t)||0,G(r)&&(p=!!r.leading,i="maxWait"in r,a=i?xt(oe(r.maxWait)||0,t):a,v="trailing"in r?!!r.trailing:v);function g(u){var s=n,m=c;return n=c=void 0,d=u,o=e.apply(m,s),o}function h(u){return d=u,f=setTimeout(b,t),p?g(u):o}function y(u){var s=u-l,m=u-d,A=t-s;return i?zt(A,a-m):A}function _(u){var s=u-l,m=u-d;return l===void 0||s>=t||s<0||i&&m>=a}function b(){var u=U();if(_(u))return w(u);f=setTimeout(b,y(u))}function w(u){return f=void 0,v&&n?g(u):(n=c=void 0,o)}function L(){f!==void 0&&clearTimeout(f),d=0,n=l=c=f=void 0}function E(){return f===void 0?o:w(U())}function T(){var u=U(),s=_(u);if(n=arguments,c=this,l=u,s){if(f===void 0)return h(l);if(i)return clearTimeout(f),f=setTimeout(b,t),g(l)}return f===void 0&&(f=setTimeout(b,t)),o}return T.cancel=L,T.flush=E,T}function Vt(e,t){return ye(e,t)}const be=Symbol("scrollbarContextKey"),O=4,Ct={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},Ht=({move:e,size:t,bar:r})=>({[r.size]:t,transform:`translate${r.axis}(${e}%)`}),Nt=q({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),Mt="Thumb",Bt=$({__name:"thumb",props:Nt,setup(e){const t=e,r=Re(be),n=me("scrollbar");r||Xe(Mt,"can not inject scrollbar context");const c=S(),a=S(),o=S({}),f=S(!1);let l=!1,d=!1,p=Ee?document.onselectstart:null;const i=R(()=>Ct[t.vertical?"vertical":"horizontal"]),v=R(()=>Ht({size:t.size,move:t.move,bar:i.value})),g=R(()=>c.value[i.value.offset]**2/r.wrapElement[i.value.scrollSize]/t.ratio/a.value[i.value.offset]),h=u=>{var s;if(u.stopPropagation(),u.ctrlKey||[1,2].includes(u.button))return;(s=window.getSelection())==null||s.removeAllRanges(),_(u);const m=u.currentTarget;m&&(o.value[i.value.axis]=m[i.value.offset]-(u[i.value.client]-m.getBoundingClientRect()[i.value.direction]))},y=u=>{if(!a.value||!c.value||!r.wrapElement)return;const s=Math.abs(u.target.getBoundingClientRect()[i.value.direction]-u[i.value.client]),m=a.value[i.value.offset]/2,A=(s-m)*100*g.value/c.value[i.value.offset];r.wrapElement[i.value.scroll]=A*r.wrapElement[i.value.scrollSize]/100},_=u=>{u.stopImmediatePropagation(),l=!0,document.addEventListener("mousemove",b),document.addEventListener("mouseup",w),p=document.onselectstart,document.onselectstart=()=>!1},b=u=>{if(!c.value||!a.value||l===!1)return;const s=o.value[i.value.axis];if(!s)return;const m=(c.value.getBoundingClientRect()[i.value.direction]-u[i.value.client])*-1,A=a.value[i.value.offset]-s,x=(m-A)*100*g.value/c.value[i.value.offset];r.wrapElement[i.value.scroll]=x*r.wrapElement[i.value.scrollSize]/100},w=()=>{l=!1,o.value[i.value.axis]=0,document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",w),T(),d&&(f.value=!1)},L=()=>{d=!1,f.value=!!t.size},E=()=>{d=!0,f.value=l};xe(()=>{T(),document.removeEventListener("mouseup",w)});const T=()=>{document.onselectstart!==p&&(document.onselectstart=p)};return X(ne(r,"scrollbarElement"),"mousemove",L),X(ne(r,"scrollbarElement"),"mouseleave",E),(u,s)=>(C(),Y(He,{name:P(n).b("fade"),persisted:""},{default:pe(()=>[ze(F("div",{ref_key:"instance",ref:c,class:H([P(n).e("bar"),P(n).is(P(i).key)]),onMousedown:y},[F("div",{ref_key:"thumb",ref:a,class:H(P(n).e("thumb")),style:K(P(v)),onMousedown:h},null,38)],34),[[Ce,u.always||f.value]])]),_:1},8,["name"]))}});var de=J(Bt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const It=q({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),$t=$({__name:"bar",props:It,setup(e,{expose:t}){const r=e,n=S(0),c=S(0);return t({handleScroll:o=>{if(o){const f=o.offsetHeight-O,l=o.offsetWidth-O;c.value=o.scrollTop*100/f*r.ratioY,n.value=o.scrollLeft*100/l*r.ratioX}}}),(o,f)=>(C(),ge(Ne,null,[re(de,{move:n.value,ratio:o.ratioX,size:o.width,always:o.always},null,8,["move","ratio","size","always"]),re(de,{move:c.value,ratio:o.ratioY,size:o.height,vertical:"",always:o.always},null,8,["move","ratio","size","always"])],64))}});var Dt=J($t,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const Wt=q({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:Ae([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20}}),Ut={scroll:({scrollTop:e,scrollLeft:t})=>[e,t].every(z)},Gt="ElScrollbar",Xt=$({name:Gt}),Yt=$({...Xt,props:Wt,emits:Ut,setup(e,{expose:t,emit:r}){const n=e,c=me("scrollbar");let a,o;const f=S(),l=S(),d=S(),p=S("0"),i=S("0"),v=S(),g=S(1),h=S(1),y=R(()=>{const s={};return n.height&&(s.height=le(n.height)),n.maxHeight&&(s.maxHeight=le(n.maxHeight)),[n.wrapStyle,s]}),_=R(()=>[n.wrapClass,c.e("wrap"),{[c.em("wrap","hidden-default")]:!n.native}]),b=R(()=>[c.e("view"),n.viewClass]),w=()=>{var s;l.value&&((s=v.value)==null||s.handleScroll(l.value),r("scroll",{scrollTop:l.value.scrollTop,scrollLeft:l.value.scrollLeft}))};function L(s,m){Ge(s)?l.value.scrollTo(s):z(s)&&z(m)&&l.value.scrollTo(s,m)}const E=s=>{z(s)&&(l.value.scrollTop=s)},T=s=>{z(s)&&(l.value.scrollLeft=s)},u=()=>{if(!l.value)return;const s=l.value.offsetHeight-O,m=l.value.offsetWidth-O,A=s**2/l.value.scrollHeight,x=m**2/l.value.scrollWidth,N=Math.max(A,n.minSize),M=Math.max(x,n.minSize);g.value=A/(s-A)/(N/(s-N)),h.value=x/(m-x)/(M/(m-M)),i.value=N+O<s?`${N}px`:"",p.value=M+O<m?`${M}px`:""};return ae(()=>n.noresize,s=>{s?(a==null||a(),o==null||o()):({stop:a}=Oe(d,u),o=X("resize",u))},{immediate:!0}),ae(()=>[n.maxHeight,n.height],()=>{n.native||se(()=>{var s;u(),l.value&&((s=v.value)==null||s.handleScroll(l.value))})}),Me(be,Be({scrollbarElement:f,wrapElement:l})),Ie(()=>{n.native||se(()=>{u()})}),$e(()=>u()),t({wrapRef:l,update:u,scrollTo:L,setScrollTop:E,setScrollLeft:T,handleScroll:w}),(s,m)=>(C(),ge("div",{ref_key:"scrollbarRef",ref:f,class:H(P(c).b())},[F("div",{ref_key:"wrapRef",ref:l,class:H(P(_)),style:K(P(y)),onScroll:w},[(C(),Y(We(s.tag),{ref_key:"resizeRef",ref:d,class:H(P(b)),style:K(s.viewStyle)},{default:pe(()=>[De(s.$slots,"default")]),_:3},8,["class","style"]))],38),s.native?Ue("v-if",!0):(C(),Y(Dt,{key:0,ref_key:"barRef",ref:v,height:i.value,width:p.value,always:s.always,"ratio-x":h.value,"ratio-y":g.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}});var Ft=J(Yt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const en=Pe(Ft);export{en as E,ye as b,kt as d,Vt as i};
