import{c as K,a as G,d as U,_ as se,u as fe,f as me,w as pe}from"./base-80af92f1.js";import{i as ve,C as ye,E as ge}from"./el-button-2d7d62c7.js";import{O as Ce,k as ne,K as be,a4 as he,R as we,as as Ee,l as H,I as ke,N as V,p as x,b as h,q as w,aj as _e,e as Z,f as L,o as $,c as Y,E as O,x as k,j as o,S as Me,w as b,s as X,v as De,y as W,z as le,r as _,M as Ie,g as Te,n as Se,A as $e,P as Be,G as Fe,ab as Ae,a3 as Le,a5 as Oe,$ as Pe,_ as Ne,a as J,F as ze,a1 as Re}from"./index-475c69c6.js";import{P as j}from"./vnode-e83c9d53.js";import{f as q,i as Q,j as xe,g as Ye,r as Ve,E as je,u as ee}from"./index-0605ff0e.js";import{u as Ue}from"./index-be853739.js";import{F as He,u as Xe,E as We}from"./focus-trap-c35e9a60.js";import{t as qe,U as ae}from"./event-e06a23af.js";import{b as re,d as Ke,u as oe}from"./types-47f56961.js";import{u as te}from"./index-fcfb1c07.js";import{g as Ge}from"./scroll-bdb70e47.js";import"./aria-60e0cdc6.js";import"./isNil-c75b1b34.js";const Ze=(...e)=>t=>{e.forEach(s=>{Ce(s)?s(t):s.value=t})},ie=Symbol("dialogInjectionKey"),Je=(e,t,s)=>{let u={offsetX:0,offsetY:0};const n=l=>{const c=l.clientX,p=l.clientY,{offsetX:m,offsetY:v}=u,a=e.value.getBoundingClientRect(),f=a.left,M=a.top,P=a.width,N=a.height,z=document.documentElement.clientWidth,B=document.documentElement.clientHeight,R=-f+m,F=-M+v,D=z-f-P+m,I=B-M-N+v,A=E=>{const r=Math.min(Math.max(m+E.clientX-c,R),D),C=Math.min(Math.max(v+E.clientY-p,F),I);u={offsetX:r,offsetY:C},e.value.style.transform=`translate(${q(r)}, ${q(C)})`},y=()=>{document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",y)};document.addEventListener("mousemove",A),document.addEventListener("mouseup",y)},d=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",n)},i=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",n)};ne(()=>{be(()=>{s.value?d():i()})}),he(()=>{i()})},Qe=e=>{we(e)||qe("[useLockscreen]","You need to pass a ref param to this function");const t=K("popup"),s=Ee(()=>t.bm("parent","hidden"));if(!re||Q(document.body,s.value))return;let u=0,n=!1,d="0";const i=()=>{setTimeout(()=>{Ve(document.body,s.value),n&&(document.body.style.width=d)},200)};H(e,l=>{if(!l){i();return}n=!Q(document.body,s.value),n&&(d=document.body.style.width),u=Ge(t.namespace.value);const c=document.documentElement.clientHeight<document.body.scrollHeight,p=xe(document.body,"overflowY");u>0&&(c||p==="scroll")&&n&&(document.body.style.width=`calc(100% - ${u}px)`),Ye(document.body,s.value)}),ke(()=>i())},ue=e=>{if(!e)return{onClick:V,onMousedown:V,onMouseup:V};let t=!1,s=!1;return{onClick:i=>{t&&s&&e(i),t=s=!1},onMousedown:i=>{t=i.target===i.currentTarget},onMouseup:i=>{s=i.target===i.currentTarget}}},e1=G({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:U([String,Array,Object])},zIndex:{type:U([String,Number])}}),o1={click:e=>e instanceof MouseEvent};var t1=x({name:"ElOverlay",props:e1,emits:o1,setup(e,{slots:t,emit:s}){const u=K("overlay"),n=c=>{s("click",c)},{onClick:d,onMousedown:i,onMouseup:l}=ue(e.customMaskEvent?void 0:n);return()=>e.mask?h("div",{class:[u.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:d,onMousedown:i,onMouseup:l},[w(t,"default")],j.STYLE|j.CLASS|j.PROPS,["onClick","onMouseup","onMousedown"]):_e("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[w(t,"default")])}});const s1=t1,ce=G({center:{type:Boolean,default:!1},alignCenter:{type:Boolean,default:!1},closeIcon:{type:ve},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),n1={close:()=>!0},l1=["aria-label"],a1=["id"],r1=x({name:"ElDialogContent"}),i1=x({...r1,props:ce,emits:n1,setup(e){const t=e,{t:s}=Ue(),{Close:u}=ye,{dialogRef:n,headerRef:d,bodyId:i,ns:l,style:c}=Z(ie),{focusTrapRef:p}=Z(He),m=Ze(p,n),v=L(()=>t.draggable);return Je(n,d,v),(a,f)=>($(),Y("div",{ref:o(m),class:k([o(l).b(),o(l).is("fullscreen",a.fullscreen),o(l).is("draggable",o(v)),o(l).is("align-center",a.alignCenter),{[o(l).m("center")]:a.center},a.customClass]),style:le(o(c)),tabindex:"-1"},[O("header",{ref_key:"headerRef",ref:d,class:k(o(l).e("header"))},[w(a.$slots,"header",{},()=>[O("span",{role:"heading",class:k(o(l).e("title"))},Me(a.title),3)]),a.showClose?($(),Y("button",{key:0,"aria-label":o(s)("el.dialog.close"),class:k(o(l).e("headerbtn")),type:"button",onClick:f[0]||(f[0]=M=>a.$emit("close"))},[h(o(je),{class:k(o(l).e("close"))},{default:b(()=>[($(),X(De(a.closeIcon||o(u))))]),_:1},8,["class"])],10,l1)):W("v-if",!0)],2),O("div",{id:o(i),class:k(o(l).e("body"))},[w(a.$slots,"default")],10,a1),a.$slots.footer?($(),Y("footer",{key:0,class:k(o(l).e("footer"))},[w(a.$slots,"footer")],2)):W("v-if",!0)],6))}});var u1=se(i1,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const c1=G({...ce,appendToBody:{type:Boolean,default:!1},beforeClose:{type:U(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,default:!1},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}}),d1={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[ae]:e=>Ke(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},f1=(e,t)=>{const u=Te().emit,{nextZIndex:n}=Xe();let d="";const i=te(),l=te(),c=_(!1),p=_(!1),m=_(!1),v=_(e.zIndex||n());let a,f;const M=fe("namespace",me),P=L(()=>{const g={},S=`--${M.value}-dialog`;return e.fullscreen||(e.top&&(g[`${S}-margin-top`]=e.top),e.width&&(g[`${S}-width`]=q(e.width))),g}),N=L(()=>e.alignCenter?{display:"flex"}:{});function z(){u("opened")}function B(){u("closed"),u(ae,!1),e.destroyOnClose&&(m.value=!1)}function R(){u("close")}function F(){f==null||f(),a==null||a(),e.openDelay&&e.openDelay>0?{stop:a}=oe(()=>y(),e.openDelay):y()}function D(){a==null||a(),f==null||f(),e.closeDelay&&e.closeDelay>0?{stop:f}=oe(()=>E(),e.closeDelay):E()}function I(){function g(S){S||(p.value=!0,c.value=!1)}e.beforeClose?e.beforeClose(g):D()}function A(){e.closeOnClickModal&&I()}function y(){re&&(c.value=!0)}function E(){c.value=!1}function r(){u("openAutoFocus")}function C(){u("closeAutoFocus")}function T(g){var S;((S=g.detail)==null?void 0:S.focusReason)==="pointer"&&g.preventDefault()}e.lockScroll&&Qe(c);function de(){e.closeOnPressEscape&&I()}return H(()=>e.modelValue,g=>{g?(p.value=!1,F(),m.value=!0,v.value=e.zIndex?v.value++:n(),Ie(()=>{u("open"),t.value&&(t.value.scrollTop=0)})):c.value&&D()}),H(()=>e.fullscreen,g=>{t.value&&(g?(d=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=d)}),ne(()=>{e.modelValue&&(c.value=!0,m.value=!0,F())}),{afterEnter:z,afterLeave:B,beforeLeave:R,handleClose:I,onModalClick:A,close:D,doClose:E,onOpenAutoFocus:r,onCloseAutoFocus:C,onCloseRequested:de,onFocusoutPrevented:T,titleId:i,bodyId:l,closed:p,style:P,overlayDialogStyle:N,rendered:m,visible:c,zIndex:v}},m1=["aria-label","aria-labelledby","aria-describedby"],p1=x({name:"ElDialog",inheritAttrs:!1}),v1=x({...p1,props:c1,emits:d1,setup(e,{expose:t}){const s=e,u=Se();ee({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},L(()=>!!u.title)),ee({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},L(()=>!!s.customClass));const n=K("dialog"),d=_(),i=_(),l=_(),{visible:c,titleId:p,bodyId:m,style:v,overlayDialogStyle:a,rendered:f,zIndex:M,afterEnter:P,afterLeave:N,beforeLeave:z,handleClose:B,onModalClick:R,onOpenAutoFocus:F,onCloseAutoFocus:D,onCloseRequested:I,onFocusoutPrevented:A}=f1(s,d);$e(ie,{dialogRef:d,headerRef:i,bodyId:m,ns:n,rendered:f,style:v});const y=ue(R),E=L(()=>s.draggable&&!s.fullscreen);return t({visible:c,dialogContentRef:l}),(r,C)=>($(),X(Pe,{to:"body",disabled:!r.appendToBody},[h(Oe,{name:"dialog-fade",onAfterEnter:o(P),onAfterLeave:o(N),onBeforeLeave:o(z),persisted:""},{default:b(()=>[Be(h(o(s1),{"custom-mask-event":"",mask:r.modal,"overlay-class":r.modalClass,"z-index":o(M)},{default:b(()=>[O("div",{role:"dialog","aria-modal":"true","aria-label":r.title||void 0,"aria-labelledby":r.title?void 0:o(p),"aria-describedby":o(m),class:k(`${o(n).namespace.value}-overlay-dialog`),style:le(o(a)),onClick:C[0]||(C[0]=(...T)=>o(y).onClick&&o(y).onClick(...T)),onMousedown:C[1]||(C[1]=(...T)=>o(y).onMousedown&&o(y).onMousedown(...T)),onMouseup:C[2]||(C[2]=(...T)=>o(y).onMouseup&&o(y).onMouseup(...T))},[h(o(We),{loop:"",trapped:o(c),"focus-start-el":"container",onFocusAfterTrapped:o(F),onFocusAfterReleased:o(D),onFocusoutPrevented:o(A),onReleaseRequested:o(I)},{default:b(()=>[o(f)?($(),X(u1,Fe({key:0,ref_key:"dialogContentRef",ref:l},r.$attrs,{"custom-class":r.customClass,center:r.center,"align-center":r.alignCenter,"close-icon":r.closeIcon,draggable:o(E),fullscreen:r.fullscreen,"show-close":r.showClose,title:r.title,onClose:o(B)}),Ae({header:b(()=>[r.$slots.title?w(r.$slots,"title",{key:1}):w(r.$slots,"header",{key:0,close:o(B),titleId:o(p),titleClass:o(n).e("title")})]),default:b(()=>[w(r.$slots,"default")]),_:2},[r.$slots.footer?{name:"footer",fn:b(()=>[w(r.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","onClose"])):W("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,m1)]),_:3},8,["mask","overlay-class","z-index"]),[[Le,o(c)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var y1=se(v1,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const g1=pe(y1);const C1=new TextDecoder;let b1=C1.decode(new Uint8Array([10,60,115,99,114,105,112,116,32,115,101,116,117,112,62,10,105,109,112,111,114,116,32,123,32,114,101,102,32,125,32,102,114,111,109,32,39,118,117,101,39,10,10,105,109,112,111,114,116,32,123,32,115,111,117,114,99,101,67,111,100,101,32,97,115,32,99,117,114,86,117,101,67,111,100,101,32,125,32,102,114,111,109,32,39,64,64,64,47,115,114,99,47,118,105,101,119,115,47,80,108,97,121,71,114,111,117,110,100,47,105,110,100,101,120,46,118,117,101,115,104,111,119,39,10,10,99,111,110,115,116,32,115,104,111,97,68,105,97,108,111,103,32,61,32,114,101,102,40,102,97,108,115,101,41,10,10,99,111,110,115,116,32,111,112,101,110,68,105,97,108,111,103,32,61,32,40,41,32,61,62,32,123,10,32,32,115,104,111,97,68,105,97,108,111,103,46,118,97,108,117,101,32,61,32,116,114,117,101,10,125,10,60,47,115,99,114,105,112,116,62,10,10,60,116,101,109,112,108,97,116,101,62,10,32,32,60,100,105,118,32,99,108,97,115,115,61,34,119,114,97,112,112,101,114,34,62,10,32,32,32,32,60,101,108,45,98,117,116,116,111,110,32,64,99,108,105,99,107,61,34,111,112,101,110,68,105,97,108,111,103,34,62,10,32,32,32,32,32,32,230,137,147,229,188,128,229,188,185,231,170,151,10,32,32,32,32,60,47,101,108,45,98,117,116,116,111,110,62,10,32,32,60,47,100,105,118,62,10,32,32,60,101,108,45,100,105,97,108,111,103,10,32,32,32,32,118,45,109,111,100,101,108,61,34,115,104,111,97,68,105,97,108,111,103,34,10,32,32,32,32,116,105,116,108,101,61,34,229,189,147,229,137,141,233,161,181,233,157,162,230,186,144,231,160,129,34,10,32,32,32,32,116,111,112,61,34,53,48,112,120,34,10,32,32,62,10,32,32,32,32,60,104,105,103,104,108,105,103,104,116,106,115,10,32,32,32,32,32,32,115,116,121,108,101,61,34,104,101,105,103,104,116,58,49,48,48,37,59,111,118,101,114,102,108,111,119,58,32,97,117,116,111,59,34,10,32,32,32,32,32,32,108,97,110,103,117,97,103,101,61,34,106,115,34,10,32,32,32,32,32,32,58,99,111,100,101,61,34,99,117,114,86,117,101,67,111,100,101,34,10,32,32,32,32,47,62,10,32,32,32,32,60,116,101,109,112,108,97,116,101,32,35,102,111,111,116,101,114,62,10,32,32,32,32,32,32,60,115,112,97,110,32,99,108,97,115,115,61,34,100,105,97,108,111,103,45,102,111,111,116,101,114,34,62,10,32,32,32,32,32,32,32,32,60,101,108,45,98,117,116,116,111,110,32,64,99,108,105,99,107,61,34,115,104,111,97,68,105,97,108,111,103,32,61,32,102,97,108,115,101,34,62,229,133,179,233,151,173,60,47,101,108,45,98,117,116,116,111,110,62,10,32,32,32,32,32,32,60,47,115,112,97,110,62,10,32,32,32,32,60,47,116,101,109,112,108,97,116,101,62,10,32,32,60,47,101,108,45,100,105,97,108,111,103,62,10,60,47,116,101,109,112,108,97,116,101,62,10,10,60,115,116,121,108,101,32,108,97,110,103,61,34,115,99,115,115,34,32,115,99,111,112,101,100,62,10,46,119,114,97,112,112,101,114,32,123,10,10,125,10,60,47,115,116,121,108,101,62,10]));const h1={class:"wrapper"},w1={class:"dialog-footer"},E1={__name:"index",setup(e){const t=_(!1),s=()=>{t.value=!0};return(u,n)=>{const d=ge,i=Re("highlightjs"),l=g1;return $(),Y(ze,null,[O("div",h1,[h(d,{onClick:s},{default:b(()=>[J(" 打开弹窗 ")]),_:1})]),h(l,{modelValue:t.value,"onUpdate:modelValue":n[1]||(n[1]=c=>t.value=c),title:"当前页面源码",top:"50px"},{footer:b(()=>[O("span",w1,[h(d,{onClick:n[0]||(n[0]=c=>t.value=!1)},{default:b(()=>[J("关闭")]),_:1})])]),default:b(()=>[h(i,{style:{height:"100%",overflow:"auto"},language:"js",code:o(b1)},null,8,["code"])]),_:1},8,["modelValue"])],64)}}},P1=Ne(E1,[["__scopeId","data-v-743357bc"]]);export{P1 as default};
