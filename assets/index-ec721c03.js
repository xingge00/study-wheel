import{s as W,A as h,y as $,d as B,P as w,o as v,c as g,B as E,b as o,w as c,S as L,R as f,E as k,k as s,Y as A,ac as R,a1 as U,_ as x,L as T,aA as j,H as K,I as Y,aK as D,at as q,aL as F,m as G,ab as J,r as y,a as r,aM as O,aN as Q}from"./index-a6a7bd62.js";import{E as X}from"./el-input-4e858468.js";import{E as Z}from"./el-button-03ee9c77.js";import"./event-9519ab40.js";const ee=W({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),te=["textContent"],se=h({name:"ElBadge"}),oe=h({...se,props:ee,setup(e,{expose:m}){const t=e,a=$("badge"),n=B(()=>t.isDot?"":w(t.value)&&w(t.max)?t.max<t.value?`${t.max}+`:`${t.value}`:`${t.value}`);return m({content:n}),(l,S)=>(v(),g("div",{class:k(s(a).b())},[E(l.$slots,"default"),o(U,{name:`${s(a).namespace.value}-zoom-in-center`,persisted:""},{default:c(()=>[L(f("sup",{class:k([s(a).e("content"),s(a).em("content",l.type),s(a).is("fixed",!!l.$slots.default),s(a).is("dot",l.isDot)]),textContent:A(s(n))},null,10,te),[[R,!l.hidden&&(s(n)||l.isDot)]])]),_:1},8,["name"])],2))}});var ne=x(oe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const ae=T(ne),re=W({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:j(String),default:"solid"}}),le=h({name:"ElDivider"}),ie=h({...le,props:re,setup(e){const m=e,t=$("divider"),a=B(()=>t.cssVar({"border-style":m.borderStyle}));return(n,l)=>(v(),g("div",{class:k([s(t).b(),s(t).m(n.direction)]),style:Y(s(a)),role:"separator"},[n.$slots.default&&n.direction!=="vertical"?(v(),g("div",{key:0,class:k([s(t).e("text"),s(t).is(n.contentPosition)])},[E(n.$slots,"default")],2)):K("v-if",!0)],6))}});var ce=x(ie,[["__file","/home/runner/work/element-plus/element-plus/packages/components/divider/src/divider.vue"]]);const de=T(ce);const C=D();let i;const p={Init(){if(!window.SharedWorker){console.error("当前浏览器不支持SharedWorker");return}i=new SharedWorker("/worker/sharedWorker.js"),i.port.start(),i.port.addEventListener("message",this.messageHandle)},close(){i&&(this.postMessage({sendType:"close"}),i.port.removeEventListener("message",this.messageHandle),i.port.close(),i=void 0)},getSharedWorker(){return i},closeWebsocket(){this.postMessage({sendType:"clearWebsocket"})},openWebsocket(){this.postMessage({sendType:"openWebsocket"})},setServeCount(e){this.postMessage({sendType:"all",data:{eventType:"updateServeCount",content:e}})},postMessage(e){i&&i.port.postMessage(e)},messageHandle({data:e}){switch(e.eventType){case"updateServeCount":C.changeServeCount(e.content);break;case"addServeCount":C.addServeCount(e.content);break;default:console.error("共享线程接到消息匹配不到类型!",e);break}}};const ue=e=>(O("data-v-42e8eff0"),e=e(),Q(),e),pe={class:"wrapper"},me=ue(()=>f("br",null,null,-1)),fe={class:"iframe-wrapper"},_e=["src"],ve=["src"],ge={__name:"index",setup(e){const m=D(),{serveCount:t}=F(m);G(()=>{p.Init()}),J(()=>{p.close()});const a=window.location.href,n=y(""),l=y(""),S=()=>{window.open(window.location.href)},b=y(50),M=()=>{p.setServeCount(b.value)},N=()=>{p.closeWebsocket()},I=()=>{p.openWebsocket()},V=()=>{p.close()};return(ke,u)=>{const P=ae,d=Z,_=de,z=X;return v(),g("div",pe,[r(" 消息数量:"),o(P,{value:s(t),max:9999},null,8,["value"]),r("   "),o(d,{onClick:u[0]||(u[0]=()=>n.value=s(a))},{default:c(()=>[r(" iframe1启用 ")]),_:1}),o(d,{onClick:u[1]||(u[1]=()=>l.value=s(a))},{default:c(()=>[r(" iframe2启用 ")]),_:1}),o(d,{onClick:S},{default:c(()=>[r(" 打开新的标签页 ")]),_:1}),o(_),o(d,{onClick:M},{default:c(()=>[r(" 设置消息数量为 ")]),_:1}),o(z,{modelValue:b.value,"onUpdate:modelValue":u[2]||(u[2]=H=>b.value=H),modelModifiers:{number:!0},style:{width:"100px"},placeholder:"设置消息数量"},null,8,["modelValue"]),o(_),r(" mock自增的websocket"),me,o(d,{onClick:N},{default:c(()=>[r(" 关闭 ")]),_:1}),o(d,{onClick:I},{default:c(()=>[r(" 开启 ")]),_:1}),o(_),r(" 当前页面Worker端口 "),o(d,{onClick:V},{default:c(()=>[r(" 关闭 ")]),_:1}),o(_),f("div",fe,[f("iframe",{src:n.value},null,8,_e),f("iframe",{src:l.value},null,8,ve)])])}}},we=q(ge,[["__scopeId","data-v-42e8eff0"]]);export{we as default};
