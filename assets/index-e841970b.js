import{a as N,d as P,c as $,_ as z,w as D}from"./base-98489d78.js";import{E as H}from"./el-input-6d41e96e.js";import{E as L}from"./el-button-538d7386.js";import{E as U}from"./el-badge-9fa048fb.js";import{B as C,v as j,o as h,c as w,G as g,i as n,C as G,H as R,I as q,ak as S,_ as A,al as F,k as J,a2 as K,r as k,a as t,b as o,w as i,L as m,am as O,an as Q}from"./index-33795f6e.js";import"./index-1ffef1ed.js";import"./index-c161bbc8.js";import"./typescript-defaf979.js";import"./event-e06a23af.js";import"./isNil-c75b1b34.js";import"./index-65936caa.js";const X=N({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:P(String),default:"solid"}}),Y=C({name:"ElDivider"}),Z=C({...Y,props:X,setup(e){const f=e,a=$("divider"),p=j(()=>a.cssVar({"border-style":f.borderStyle}));return(r,_)=>(h(),w("div",{class:g([n(a).b(),n(a).m(r.direction)]),style:q(n(p)),role:"separator"},[r.$slots.default&&r.direction!=="vertical"?(h(),w("div",{key:0,class:g([n(a).e("text"),n(a).is(r.contentPosition)])},[G(r.$slots,"default")],2)):R("v-if",!0)],6))}});var ee=z(Z,[["__file","/home/runner/work/element-plus/element-plus/packages/components/divider/src/divider.vue"]]);const oe=D(ee);const b=S(),y="/study-wheel/worker/sharedWorker.js";console.log(y);let s;const d={Init(){if(!window.SharedWorker){console.error("当前浏览器不支持SharedWorker");return}s=new SharedWorker(y),s.port.start(),s.port.addEventListener("message",this.messageHandle)},close(){s&&(this.postMessage({sendType:"close"}),s.port.removeEventListener("message",this.messageHandle),s.port.close(),s=void 0)},getSharedWorker(){return s},closeWebsocket(){this.postMessage({sendType:"clearWebsocket"})},openWebsocket(){this.postMessage({sendType:"openWebsocket"})},setServeCount(e){this.postMessage({sendType:"all",data:{eventType:"updateServeCount",content:e}})},postMessage(e){s&&s.port.postMessage(e)},messageHandle({data:e}){switch(e.eventType){case"updateServeCount":b.changeServeCount(e.content);break;case"addServeCount":b.addServeCount(e.content);break;default:console.error("共享线程接到消息匹配不到类型!",e);break}}};const te=e=>(O("data-v-42e8eff0"),e=e(),Q(),e),se={class:"wrapper"},re=te(()=>m("br",null,null,-1)),ne={class:"iframe-wrapper"},ae=["src"],le=["src"],ie={__name:"index",setup(e){const f=S(),{serveCount:a}=F(f);J(()=>{d.Init()}),K(()=>{d.close()});const p=window.location.href,r=k(""),_=k(""),W=()=>{window.open(window.location.href)},v=k(50),E=()=>{d.setServeCount(v.value)},T=()=>{d.closeWebsocket()},x=()=>{d.openWebsocket()},I=()=>{d.close()};return(ce,c)=>{const M=U,l=L,u=oe,V=H;return h(),w("div",se,[t(" 消息数量:"),o(M,{value:n(a),max:9999},null,8,["value"]),t("   "),o(l,{onClick:c[0]||(c[0]=()=>r.value=n(p))},{default:i(()=>[t(" iframe1启用 ")]),_:1}),o(l,{onClick:c[1]||(c[1]=()=>_.value=n(p))},{default:i(()=>[t(" iframe2启用 ")]),_:1}),o(l,{onClick:W},{default:i(()=>[t(" 打开新的标签页 ")]),_:1}),o(u),o(l,{onClick:E},{default:i(()=>[t(" 设置消息数量为 ")]),_:1}),o(V,{modelValue:v.value,"onUpdate:modelValue":c[2]||(c[2]=B=>v.value=B),modelModifiers:{number:!0},style:{width:"100px"},placeholder:"设置消息数量"},null,8,["modelValue"]),o(u),t(" mock自增的websocket"),re,o(l,{onClick:T},{default:i(()=>[t(" 关闭 ")]),_:1}),o(l,{onClick:x},{default:i(()=>[t(" 开启 ")]),_:1}),o(u),t(" 当前页面Worker端口 "),o(l,{onClick:I},{default:i(()=>[t(" 关闭 ")]),_:1}),o(u),m("div",ne,[m("iframe",{src:r.value},null,8,ae),m("iframe",{src:_.value},null,8,le)])])}}},be=A(ie,[["__scopeId","data-v-42e8eff0"]]);export{be as default};
