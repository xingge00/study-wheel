import{_ as y,o as v,c as _,P as M,j as H,a as I,F as N,am as S,an as C,E as B}from"./index-fb8e86c9.js";const p=function(){return document.removeEventListener?function(t,e,n){t&&e&&t.removeEventListener(e,n,!1)}:function(t,e,n){t&&e&&t.detachEvent(`on${e}`,n)}}(),f=function(){return document.addEventListener?function(t,e,n){t&&e&&n&&t.addEventListener(e,n,!1)}:function(t,e,n){t&&e&&n&&t.attachEvent(`on${e}`,n)}}(),h=(t,e,n)=>{if(e.componentInstance)e.componentInstance.$emit(n);else{const o=new CustomEvent(n);t.dispatchEvent(o)}};function b(t){return t*100/window.innerHeight}function a(t,e,n=!0){let o;return typeof e=="string"&&(e=E(e)),typeof e=="object"&&(o=j(n?{...E(t),...e}:e)),o?(t.style.cssText=o,!0):!1}function j(t){return typeof t!="object"?"":Object.keys(t).reduce((e,n)=>`${e}${n}:${t[n]};`,"")}function E(t){const e={};let n=t;t instanceof HTMLElement&&(n=t.style.cssText);let o=0,i="";for(let s=0;s<n.length;s++)n[s]===":"&&(i=n.slice(o,s),o=s+1),n[s]===";"&&(Object.assign(e,{[i]:n.slice(o,s)}),i="",o=s+1);return i&&Object.assign(e,{[i]:n.slice(o)}),e}function k(t){const{bottomBarHeightNumber:e,topBarHeightNumber:n,positionType:o}=t;return t.bottomBarHeightNumber=e?parseInt(e):0,t.topBarHeightNumber=n?parseInt(n):10,t.positionType=o==="relative"?"relative":"fixed",t}function D(t,e){const n=t.parentNode;n.removeChild(t),e.appendChild(t),n.appendChild(e)}function L(t){return Math.max(t.clientHeight,Array.from(t.children).reduce((e,n)=>e+n.clientHeight,0))}function $(t,e){t.style.transition=`all ${e/1e3}s`,setTimeout(()=>{t.style.transition=""},e)}function F(t,e,n,o){const i=e.componentInstance||t;i.togglefullScreen=s=>{t.style.transition="all .5s",$(t,500),s?a(t,{top:`calc(-100vh + ${o}px + ${n}px)`,height:`calc(100vh - ${o}px)`},!0):a(t,{top:"0",height:`${n}px`},!0)},i.halfScreen=()=>{$(t,500),a(t,{top:`calc(-50vh + ${o}px + ${n}px)`,height:`calc(50vh - ${o}px)`},!0)}}const V={mounted(t,e,n){const{bottomBarHeightNumber:o,topBarHeightNumber:i,positionType:s}=k(e.value),r=document.createElement("div");a(r,{height:`${o}px`,width:"100%",position:s,"z-index":"1100",bottom:0}),D(t,r),a(t,{position:"absolute",height:o},!0);const d=document.createElement("div");a(d,{position:"absolute",top:"0",left:"0",right:"0",height:"5px",background:"transparent",cursor:"row-resize"},!1);let c=0;const T=()=>{const m=i,u=(s==="fixed"?window.innerHeight:L(r.parentNode))-o,l=x=>{x.preventDefault();const{clientY:w}=x;c=w-u,c>0?(h(t,n,"notExpand"),c=0):h(t,n,"isExpand"),c<m-u&&(h(t,n,"isFullScreen"),c=m-u),a(t,{top:`${b(c)}vh`,height:`${b(Math.abs(o-c))}vh`},!0)},g=()=>{p(document,"mousemove",l),p(document,"mouseup",g)};f(document,"mousemove",l),f(document,"mouseup",g)};t.handleMousedown=T,f(d,"mousedown",t.handleMousedown),t.appendChild(d),F(t,n,o,i)},updated(t,e,n){console.log("componentUpdated",t,e,n)},unmounted(t,e,n){p(t,"mousedown",t.handleMousedown);const o=t.parentNode;o.parentNode.removeChild(o),console.log(e,n)}};const z=t=>(S("data-v-525db886"),t=t(),C(),t),A=z(()=>B("div",{class:"top-bar"}," 顶部栏 ",-1)),U={class:"bottom-bar"},P={__name:"index",setup(t){const e={bottomBarHeightNumber:50,topBarHeightNumber:50};return(n,o)=>(v(),_(N,null,[A,M((v(),_("div",U,[I(" 拖动指令 ")])),[[H(V),e]])],64))}},G=y(P,[["__scopeId","data-v-525db886"]]);export{G as default};
