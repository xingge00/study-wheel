import{a as W,c as $,_ as x,w as E,d as j}from"./base-a5bc6666.js";import{E as L}from"./el-input-bf5a13db.js";import{E as q}from"./el-button-736eb1e3.js";import{p as h,f as B,o as v,c as k,q as T,b as s,w as c,P as R,E as f,x as g,j as o,U as A,a3 as F,a5 as G,y as J,z as K,ak as D,_ as O,al as Q,k as X,a4 as Y,r as w,a,am as Z,an as ee}from"./index-63d2df1a.js";import{i as S}from"./types-1737d43c.js";import"./index-c1ad2fb1.js";import"./index-b6c94c07.js";import"./typescript-defaf979.js";import"./event-e06a23af.js";import"./isNil-c75b1b34.js";import"./index-89c4d774.js";const te=W({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),oe=["textContent"],se=h({name:"ElBadge"}),ne=h({...se,props:te,setup(e,{expose:m}){const t=e,r=$("badge"),n=B(()=>t.isDot?"":S(t.value)&&S(t.max)?t.max<t.value?`${t.max}+`:`${t.value}`:`${t.value}`);return m({content:n}),(l,y)=>(v(),k("div",{class:g(o(r).b())},[T(l.$slots,"default"),s(G,{name:`${o(r).namespace.value}-zoom-in-center`,persisted:""},{default:c(()=>[R(f("sup",{class:g([o(r).e("content"),o(r).em("content",l.type),o(r).is("fixed",!!l.$slots.default),o(r).is("dot",l.isDot)]),textContent:A(o(n))},null,10,oe),[[F,!l.hidden&&(o(n)||l.isDot)]])]),_:1},8,["name"])],2))}});var re=x(ne,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const ae=E(re),le=W({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:j(String),default:"solid"}}),ie=h({name:"ElDivider"}),ce=h({...ie,props:le,setup(e){const m=e,t=$("divider"),r=B(()=>t.cssVar({"border-style":m.borderStyle}));return(n,l)=>(v(),k("div",{class:g([o(t).b(),o(t).m(n.direction)]),style:K(o(r)),role:"separator"},[n.$slots.default&&n.direction!=="vertical"?(v(),k("div",{key:0,class:g([o(t).e("text"),o(t).is(n.contentPosition)])},[T(n.$slots,"default")],2)):J("v-if",!0)],6))}});var de=x(ce,[["__file","/home/runner/work/element-plus/element-plus/packages/components/divider/src/divider.vue"]]);const ue=E(de);const C=D(),M="/study-wheel/worker/sharedWorker.js";console.log(M);let i;const p={Init(){if(!window.SharedWorker){console.error("当前浏览器不支持SharedWorker");return}i=new SharedWorker(M),i.port.start(),i.port.addEventListener("message",this.messageHandle)},close(){i&&(this.postMessage({sendType:"close"}),i.port.removeEventListener("message",this.messageHandle),i.port.close(),i=void 0)},getSharedWorker(){return i},closeWebsocket(){this.postMessage({sendType:"clearWebsocket"})},openWebsocket(){this.postMessage({sendType:"openWebsocket"})},setServeCount(e){this.postMessage({sendType:"all",data:{eventType:"updateServeCount",content:e}})},postMessage(e){i&&i.port.postMessage(e)},messageHandle({data:e}){switch(e.eventType){case"updateServeCount":C.changeServeCount(e.content);break;case"addServeCount":C.addServeCount(e.content);break;default:console.error("共享线程接到消息匹配不到类型!",e);break}}};const pe=e=>(Z("data-v-42e8eff0"),e=e(),ee(),e),me={class:"wrapper"},fe=pe(()=>f("br",null,null,-1)),_e={class:"iframe-wrapper"},ve=["src"],ke=["src"],ge={__name:"index",setup(e){const m=D(),{serveCount:t}=Q(m);X(()=>{p.Init()}),Y(()=>{p.close()});const r=window.location.href,n=w(""),l=w(""),y=()=>{window.open(window.location.href)},b=w(50),N=()=>{p.setServeCount(b.value)},I=()=>{p.closeWebsocket()},V=()=>{p.openWebsocket()},P=()=>{p.close()};return(he,u)=>{const z=ae,d=q,_=ue,U=L;return v(),k("div",me,[a(" 消息数量:"),s(z,{value:o(t),max:9999},null,8,["value"]),a("   "),s(d,{onClick:u[0]||(u[0]=()=>n.value=o(r))},{default:c(()=>[a(" iframe1启用 ")]),_:1}),s(d,{onClick:u[1]||(u[1]=()=>l.value=o(r))},{default:c(()=>[a(" iframe2启用 ")]),_:1}),s(d,{onClick:y},{default:c(()=>[a(" 打开新的标签页 ")]),_:1}),s(_),s(d,{onClick:N},{default:c(()=>[a(" 设置消息数量为 ")]),_:1}),s(U,{modelValue:b.value,"onUpdate:modelValue":u[2]||(u[2]=H=>b.value=H),modelModifiers:{number:!0},style:{width:"100px"},placeholder:"设置消息数量"},null,8,["modelValue"]),s(_),a(" mock自增的websocket"),fe,s(d,{onClick:I},{default:c(()=>[a(" 关闭 ")]),_:1}),s(d,{onClick:V},{default:c(()=>[a(" 开启 ")]),_:1}),s(_),a(" 当前页面Worker端口 "),s(d,{onClick:P},{default:c(()=>[a(" 关闭 ")]),_:1}),s(_),f("div",_e,[f("iframe",{src:n.value},null,8,ve),f("iframe",{src:l.value},null,8,ke)])])}}},De=O(ge,[["__scopeId","data-v-42e8eff0"]]);export{De as default};
